{"version":3,"file":"vue-types.js","sources":["../node_modules/is-plain-object/node_modules/isobject/index.js","../node_modules/is-plain-object/index.js","../src/utils.js","../src/sensibles.js","../src/index.js"],"sourcesContent":["/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nexport default function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nimport isObject from 'isobject';\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nexport default function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n","import isPlainObject from 'is-plain-object'\nimport Vue from 'vue'\n\nconst ObjProto = Object.prototype\nconst toString = ObjProto.toString\nexport const hasOwn = ObjProto.hasOwnProperty\n\nconst FN_MATCH_REGEXP = /^\\s*function (\\w+)/\n\n// https://github.com/vuejs/vue/blob/dev/src/core/util/props.js#L177\nexport function getType(fn) {\n  const type = fn !== null && fn !== undefined ? (fn.type ? fn.type : fn) : null\n  const match = type && type.toString().match(FN_MATCH_REGEXP)\n  return match && match[1]\n}\n\nexport function getNativeType(value) {\n  if (value === null || value === undefined) return null\n  const match = value.constructor.toString().match(FN_MATCH_REGEXP)\n  return match && match[1]\n}\n\n/**\n * No-op function\n */\nexport function noop() {}\n\n/**\n * A function that always returns true\n */\nexport const stubTrue = () => true\n\n/**\n * Checks for a own property in an object\n *\n * @param {object} obj - Object\n * @param {string} prop - Property to check\n * @returns {boolean}\n */\nexport const has = (obj, prop) => hasOwn.call(obj, prop)\n\n/**\n * Determines whether the passed value is an integer. Uses `Number.isInteger` if available\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\n * @param {*} value - The value to be tested for being an integer.\n * @returns {boolean}\n */\nexport const isInteger =\n  Number.isInteger ||\n  function isInteger(value) {\n    return (\n      typeof value === 'number' &&\n      isFinite(value) &&\n      Math.floor(value) === value\n    )\n  }\n\n/**\n * Determines whether the passed value is an Array.\n *\n * @param {*} value - The value to be tested for being an array.\n * @returns {boolean}\n */\nexport const isArray =\n  Array.isArray ||\n  function isArray(value) {\n    return toString.call(value) === '[object Array]'\n  }\n\n/**\n * Checks if a value is a function\n *\n * @param {any} value - Value to check\n * @returns {boolean}\n */\nexport const isFunction = (value) =>\n  toString.call(value) === '[object Function]'\n\n/**\n * Adds a `def` method to the object returning a new object with passed in argument as `default` property\n *\n * @param {object} type - Object to enhance\n * @returns {object} the passed-in prop type\n */\nexport function withDefault(type) {\n  return Object.defineProperty(type, 'def', {\n    value(def) {\n      if (def === undefined && !this.default) {\n        return this\n      }\n      if (!isFunction(def) && !validateType(this, def)) {\n        warn(`${this._vueTypes_name} - invalid default value: \"${def}\"`, def)\n        return this\n      }\n      if (isArray(def)) {\n        this.default = () => [...def]\n      } else if (isPlainObject(def)) {\n        this.default = () => Object.assign({}, def)\n      } else {\n        this.default = def\n      }\n      return this\n    },\n    enumerable: false,\n    writable: false,\n  })\n}\n\n/**\n * Adds a `isRequired` getter returning a new object with `required: true` key-value\n *\n * @param {object} type - Object to enhance\n * @returns {object} the passed-in prop type\n */\nexport function withRequired(type) {\n  return Object.defineProperty(type, 'isRequired', {\n    get() {\n      this.required = true\n      return this\n    },\n    enumerable: false,\n  })\n}\n\n/**\n * Adds a validate method useful to set the prop `validator` function.\n *\n * @param {object} type Prop type to extend\n * @returns {object} the passed-in prop type\n */\nexport function withValidate(type) {\n  return Object.defineProperty(type, 'validate', {\n    value(fn) {\n      this.validator = fn.bind(this)\n      return this\n    },\n    enumerable: false,\n  })\n}\n\n/**\n * Adds `isRequired` and `def` modifiers to an object\n *\n * @param {string} name - Type internal name\n * @param {object} obj - Object to enhance\n * @param {boolean} [validateFn=false] - add the `validate()` method to the type object\n * @returns {object}\n */\nexport function toType(name, obj, validateFn = false) {\n  Object.defineProperty(obj, '_vueTypes_name', {\n    enumerable: false,\n    writable: false,\n    value: name,\n  })\n\n  withDefault(withRequired(obj))\n\n  if (validateFn) {\n    withValidate(obj)\n  } else {\n    Object.defineProperty(obj, 'validate', {\n      value() {\n        warn(`${name} - \"validate\" method not supported on this type`)\n        return this\n      },\n      enumerable: false,\n    })\n  }\n\n  if (isFunction(obj.validator)) {\n    obj.validator = obj.validator.bind(obj)\n  }\n  return obj\n}\n\n/**\n * Validates a given value against a prop type object\n *\n * @param {Object|*} type - Type to use for validation. Either a type object or a constructor\n * @param {*} value - Value to check\n * @param {boolean} silent - Silence warnings\n * @returns {boolean}\n */\nexport function validateType(type, value, silent = false) {\n  let typeToCheck = type\n  let valid = true\n  let expectedType\n  if (!isPlainObject(type)) {\n    typeToCheck = { type }\n  }\n  const namePrefix = typeToCheck._vueTypes_name\n    ? typeToCheck._vueTypes_name + ' - '\n    : ''\n\n  if (hasOwn.call(typeToCheck, 'type') && typeToCheck.type !== null) {\n    if (typeToCheck.type === undefined) {\n      throw new TypeError(\n        `[VueTypes error]: Setting type to undefined is not allowed.`,\n      )\n    }\n    if (!typeToCheck.required && value === undefined) {\n      return valid\n    }\n    if (isArray(typeToCheck.type)) {\n      valid = typeToCheck.type.some((type) => validateType(type, value, true))\n      expectedType = typeToCheck.type.map((type) => getType(type)).join(' or ')\n    } else {\n      expectedType = getType(typeToCheck)\n\n      if (expectedType === 'Array') {\n        valid = isArray(value)\n      } else if (expectedType === 'Object') {\n        valid = isPlainObject(value)\n      } else if (\n        expectedType === 'String' ||\n        expectedType === 'Number' ||\n        expectedType === 'Boolean' ||\n        expectedType === 'Function'\n      ) {\n        valid = getNativeType(value) === expectedType\n      } else {\n        valid = value instanceof typeToCheck.type\n      }\n    }\n  }\n\n  if (!valid) {\n    silent === false &&\n      warn(`${namePrefix}value \"${value}\" should be of type \"${expectedType}\"`)\n    return false\n  }\n\n  if (\n    hasOwn.call(typeToCheck, 'validator') &&\n    isFunction(typeToCheck.validator)\n  ) {\n    // swallow warn\n    let oldWarn\n    if (silent) {\n      oldWarn = warn\n      warn = noop\n    }\n\n    valid = typeToCheck.validator(value)\n    oldWarn && (warn = oldWarn)\n\n    if (!valid && silent === false)\n      warn(`${namePrefix}custom validation failed`)\n    return valid\n  }\n  return valid\n}\n\nlet warn = noop\n\nif (process.env.NODE_ENV !== 'production') {\n  const hasConsole = typeof console !== 'undefined'\n  warn = hasConsole\n    ? function warn(msg) {\n        // eslint-disable-next-line no-console\n        Vue.config.silent === false && console.warn(`[VueTypes warn]: ${msg}`)\n      }\n    : noop\n}\n\nexport { warn }\n","const typeDefaults = () => ({\n  func: () => {},\n  bool: true,\n  string: '',\n  number: 0,\n  array: () => [],\n  object: () => ({}),\n  integer: 0,\n})\n\nexport const setDefaults = (root) => {\n  let currentDefaults = typeDefaults()\n\n  return Object.defineProperty(root, 'sensibleDefaults', {\n    enumerable: false,\n    set(value) {\n      if (value === false) {\n        currentDefaults = {}\n      } else if (value === true) {\n        currentDefaults = typeDefaults()\n      } else {\n        currentDefaults = value\n      }\n    },\n    get() {\n      return currentDefaults\n    },\n  })\n}\n","import isPlainObject from 'is-plain-object'\nimport {\n  toType,\n  getType,\n  isFunction,\n  validateType,\n  isInteger,\n  isArray,\n  warn,\n  has,\n  stubTrue,\n} from './utils'\nimport { setDefaults } from './sensibles'\n\nconst VueTypes = {\n  get any() {\n    return toType(\n      'any',\n      {\n        type: null,\n      },\n      true,\n    )\n  },\n\n  get func() {\n    return toType(\n      'function',\n      {\n        type: Function,\n      },\n      true,\n    ).def(VueTypes.sensibleDefaults.func)\n  },\n\n  get bool() {\n    return toType(\n      'boolean',\n      {\n        type: Boolean,\n      },\n      true,\n    ).def(VueTypes.sensibleDefaults.bool)\n  },\n\n  get string() {\n    return toType(\n      'string',\n      {\n        type: String,\n      },\n      true,\n    ).def(VueTypes.sensibleDefaults.string)\n  },\n\n  get number() {\n    return toType(\n      'number',\n      {\n        type: Number,\n      },\n      true,\n    ).def(VueTypes.sensibleDefaults.number)\n  },\n\n  get array() {\n    return toType(\n      'array',\n      {\n        type: Array,\n      },\n      true,\n    ).def(VueTypes.sensibleDefaults.array)\n  },\n\n  get object() {\n    return toType(\n      'object',\n      {\n        type: Object,\n      },\n      true,\n    ).def(VueTypes.sensibleDefaults.object)\n  },\n\n  get integer() {\n    return toType('integer', {\n      type: Number,\n      validator(value) {\n        return isInteger(value)\n      },\n    }).def(VueTypes.sensibleDefaults.integer)\n  },\n\n  get symbol() {\n    return toType(\n      'symbol',\n      {\n        type: null,\n        validator(value) {\n          return typeof value === 'symbol'\n        },\n      },\n      true,\n    )\n  },\n\n  extend(props = {}) {\n    if (isArray(props)) {\n      props.forEach((p) => VueTypes.extend(p))\n      return this\n    }\n\n    let { name, validate = false, getter = false, ...opts } = props\n\n    if (has(VueTypes, name)) {\n      throw new TypeError(`[VueTypes error]: Type \"${name}\" already defined`)\n    }\n\n    const { type, validator = stubTrue } = opts\n    if (type && type._vueTypes_name) {\n      // we are using as base type a vue-type object\n\n      // detach the original type\n      // we are going to inherit the parent data.\n      delete opts.type\n\n      // inherit base types, required flag and default flag if set\n      const keys = ['type', 'required', 'default']\n      for (let i = 0; i < keys.length; i += 1) {\n        const key = keys[i]\n        if (type[key] !== undefined) {\n          opts[key] = type[key]\n        }\n      }\n\n      validate = false // we don't allow validate method on this kind of types\n      if (isFunction(type.validator)) {\n        opts.validator = function (...args) {\n          return type.validator.apply(type, args) && validator.apply(this, args)\n        }\n      }\n    }\n    let descriptor\n    if (getter) {\n      descriptor = {\n        get() {\n          return toType(name, Object.assign({}, opts), validate)\n        },\n        enumerable: true,\n        configurable: false,\n      }\n    } else {\n      const { validator } = opts\n      descriptor = {\n        value(...args) {\n          const ret = toType(name, Object.assign({}, opts), validate)\n          if (validator) {\n            ret.validator = validator.bind(ret, ...args)\n          }\n          return ret\n        },\n        writable: false,\n        enumerable: true,\n        configurable: false,\n      }\n    }\n\n    return Object.defineProperty(this, name, descriptor)\n  },\n\n  custom(validatorFn, warnMsg = 'custom validation failed') {\n    if (typeof validatorFn !== 'function') {\n      throw new TypeError(\n        '[VueTypes error]: You must provide a function as argument',\n      )\n    }\n\n    return toType(validatorFn.name || '<<anonymous function>>', {\n      validator(value) {\n        const valid = validatorFn(value)\n        if (!valid) warn(`${this._vueTypes_name} - ${warnMsg}`)\n        return valid\n      },\n    })\n  },\n\n  oneOf(arr) {\n    if (!isArray(arr)) {\n      throw new TypeError(\n        '[VueTypes error]: You must provide an array as argument',\n      )\n    }\n    const msg = `oneOf - value should be one of \"${arr.join('\", \"')}\"`\n    const allowedTypes = arr.reduce((ret, v) => {\n      if (v !== null && v !== undefined) {\n        ret.indexOf(v.constructor) === -1 && ret.push(v.constructor)\n      }\n      return ret\n    }, [])\n\n    return toType('oneOf', {\n      type: allowedTypes.length > 0 ? allowedTypes : null,\n      validator(value) {\n        const valid = arr.indexOf(value) !== -1\n        if (!valid) warn(msg)\n        return valid\n      },\n    })\n  },\n\n  instanceOf(instanceConstructor) {\n    return toType('instanceOf', {\n      type: instanceConstructor,\n    })\n  },\n\n  oneOfType(arr) {\n    if (!isArray(arr)) {\n      throw new TypeError(\n        '[VueTypes error]: You must provide an array as argument',\n      )\n    }\n\n    let hasCustomValidators = false\n\n    const nativeChecks = arr.reduce((ret, type) => {\n      if (isPlainObject(type)) {\n        if (type._vueTypes_name === 'oneOf') {\n          return ret.concat(type.type || [])\n        }\n        if (isFunction(type.validator)) {\n          hasCustomValidators = true\n          return ret\n        }\n        if (type.type) {\n          if (isArray(type.type)) return ret.concat(type.type)\n          ret.push(type.type)\n        }\n\n        return ret\n      }\n      ret.push(type)\n      return ret\n    }, [])\n\n    if (!hasCustomValidators) {\n      // we got just native objects (ie: Array, Object)\n      // delegate to Vue native prop check\n      return toType('oneOfType', {\n        type: nativeChecks,\n      })\n    }\n\n    const typesStr = arr\n      .map((type) => {\n        if (type && isArray(type.type)) {\n          return type.type.map(getType)\n        }\n        return getType(type)\n      })\n      .reduce((ret, type) => ret.concat(isArray(type) ? type : [type]), [])\n      .join('\", \"')\n\n    return this.custom(function oneOfType(value) {\n      const valid = arr.some((type) => {\n        if (type._vueTypes_name === 'oneOf') {\n          return type.type ? validateType(type.type, value, true) : true\n        }\n        return validateType(type, value, true)\n      })\n      if (!valid) warn(`oneOfType - value type should be one of \"${typesStr}\"`)\n      return valid\n    })\n  },\n\n  arrayOf(type) {\n    return toType('arrayOf', {\n      type: Array,\n      validator(values) {\n        const valid = values.every((value) => validateType(type, value))\n        if (!valid)\n          warn(`arrayOf - value must be an array of \"${getType(type)}\"`)\n        return valid\n      },\n    })\n  },\n\n  objectOf(type) {\n    return toType('objectOf', {\n      type: Object,\n      validator(obj) {\n        const valid = Object.keys(obj).every((key) =>\n          validateType(type, obj[key]),\n        )\n        if (!valid)\n          warn(`objectOf - value must be an object of \"${getType(type)}\"`)\n        return valid\n      },\n    })\n  },\n\n  shape(obj) {\n    const keys = Object.keys(obj)\n    const requiredKeys = keys.filter(\n      (key) => obj[key] && obj[key].required === true,\n    )\n\n    const type = toType('shape', {\n      type: Object,\n      validator(value) {\n        if (!isPlainObject(value)) {\n          return false\n        }\n        const valueKeys = Object.keys(value)\n\n        // check for required keys (if any)\n        if (\n          requiredKeys.length > 0 &&\n          requiredKeys.some((req) => valueKeys.indexOf(req) === -1)\n        ) {\n          warn(\n            `shape - at least one of required properties \"${requiredKeys.join(\n              '\", \"',\n            )}\" is not present`,\n          )\n          return false\n        }\n\n        return valueKeys.every((key) => {\n          if (keys.indexOf(key) === -1) {\n            if (this._vueTypes_isLoose === true) return true\n            warn(`shape - object is missing \"${key}\" property`)\n            return false\n          }\n          const type = obj[key]\n          return validateType(type, value[key])\n        })\n      },\n    })\n\n    Object.defineProperty(type, '_vueTypes_isLoose', {\n      enumerable: false,\n      writable: true,\n      value: false,\n    })\n\n    Object.defineProperty(type, 'loose', {\n      get() {\n        this._vueTypes_isLoose = true\n        return this\n      },\n      enumerable: false,\n    })\n\n    return type\n  },\n}\n\nsetDefaults(VueTypes)\n\nVueTypes.utils = {\n  validate(value, type) {\n    return validateType(type, value, true)\n  },\n  toType,\n}\n\nexport default VueTypes\n"],"names":["ObjProto","Object","prototype","toString","hasOwn","hasOwnProperty","FN_MATCH_REGEXP","getType","fn","type","undefined","match","getNativeType","value","constructor","noop","stubTrue","has","obj","prop","call","isInteger","Number","isFinite","Math","floor","isArray","Array","isFunction","withDefault","defineProperty","def","default","validateType","warn","_vueTypes_name","isPlainObject","assign","enumerable","writable","withRequired","get","required","withValidate","validator","bind","toType","name","validateFn","silent","typeToCheck","valid","expectedType","namePrefix","TypeError","some","map","join","oldWarn","process","env","NODE_ENV","hasConsole","console","msg","Vue","config","typeDefaults","func","bool","string","number","array","object","integer","setDefaults","root","currentDefaults","set","VueTypes","any","Function","sensibleDefaults","Boolean","String","symbol","extend","props","forEach","p","validate","getter","opts","keys","i","length","key","args","apply","descriptor","configurable","ret","custom","validatorFn","warnMsg","oneOf","arr","allowedTypes","reduce","v","indexOf","push","instanceOf","instanceConstructor","oneOfType","hasCustomValidators","nativeChecks","concat","typesStr","arrayOf","values","every","objectOf","shape","requiredKeys","filter","valueKeys","req","_vueTypes_isLoose","utils"],"mappings":"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"}